<head>
  <link rel="stylesheet" href="./profile.css">
  <link rel="stylesheet" href="/src/assets/main.css">
  <script src="./index.js" defer></script>
</head>

<NavBar />

<main class="pt-16">
  <div class="max-w-6xl mx-auto flex background-color-1 rounded-lg shadow-md border border-[var(--bg-4)] overflow-hidden">

    <!-- Sidebar -->
    <aside class="w-64 background-color-3 flex flex-col">
      <div class="flex items-center gap-4 p-6 border-b border-[var(--bg-4)]">
        <div class="w-16 h-16 bg-[var(--bg-4)] rounded-full"></div>
        <div class="text-lg font-semibold font-color-9">用户名</div>
      </div>
      <nav class="flex flex-col text-sm font-medium">
        <button class="menu-btn" @click="switchTab('profile')">个人资料</button>
        <button class="menu-btn" @click="switchTab('avatar')">修改头像</button>
        <button class="menu-btn" @click="switchTab('password')">密码安全</button>
        <button class="text-left px-6 py-3 text-red-500" @click="logout">退出登录</button>
      </nav>
    </aside>

    <!-- 主内容区域 -->
    <div class="flex-1 p-8 overflow-auto text-font-10">
      <!-- Tab 1: Profile -->
      <div v-if="currentTab === 'profile'">
        <h2 class="text-2xl font-bold mb-4">个人资料</h2>
        <p>这是用户基本资料展示区域。</p>
      </div>

      <!-- Tab 2: Avatar -->
      <div v-if="currentTab === 'avatar'">
        <h2 class="text-2xl font-bold mb-4">修改头像</h2>
        <input type="file" @change="handleAvatarUpload" />
        <img id="avatarPreview" class="w-32 h-32 rounded-full mt-4" />
      </div>

      <!-- Tab 3: Password -->
      <div v-if="currentTab === 'password'">
        <h2 class="text-2xl font-bold mb-4">修改密码</h2>
        <input type="password" placeholder="新密码" class="input-box" />
        <input type="password" placeholder="确认密码" class="input-box mt-2" />
        <button class="btn-primary mt-4">提交</button>
      </div>
    </div>
  </div>
</main>

<div class="pt-24">
  <Footer />
</div>
